# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Xiaomi/MIUI (Redmi Note 8 Pro –∏ –¥—Ä—É–≥–∏–µ)

## –í–µ—Ä—Å–∏—è: 2.1.6

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö Xiaomi (MIUI) –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Fandomon –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤ MIUI.

## –ü—Ä–∏—á–∏–Ω–∞

MIUI –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –±–∞—Ç–∞—Ä–µ–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:

1. ‚ùå **BootReceiver –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç BOOT_COMPLETED** broadcast
2. ‚ùå **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ —Ñ–æ–Ω–µ**
3. ‚ùå **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

## –†–µ—à–µ–Ω–∏–µ (3 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–∞)

### –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç—å –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–±:
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Fandomon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

#### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** (Security) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** (Autostart)
3. –ù–∞–π–¥–∏—Ç–µ **Fandomon** –≤ —Å–ø–∏—Å–∫–µ
4. **–í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** ‚úÖ

**–ü—É—Ç—å –≤ MIUI 12+:**
```
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ ‚Üí Fandomon (–≤–∫–ª—é—á–∏—Ç—å)
```

**–ü—É—Ç—å –≤ MIUI 11:**
```
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ ‚Üí Fandomon (–≤–∫–ª—é—á–∏—Ç—å)
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å:**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ ‚Üí Fandomon ‚Üí –î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–≤–∫–ª—é—á–∏—Ç—å)
```

### –®–∞–≥ 2: –û—Ç–∫–ª—é—á–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏—é –±–∞—Ç–∞—Ä–µ–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**
3. –ù–∞–π–¥–∏—Ç–µ **Fandomon**
4. –ù–∞–∂–º–∏—Ç–µ **–ë–∞—Ç–∞—Ä–µ—è**
5. –í—ã–±–µ—Ä–∏—Ç–µ **–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π** (No restrictions)

**–ò–õ–ò —á–µ—Ä–µ–∑ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
```
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ë–∞—Ç–∞—Ä–µ—è ‚Üí –≠–∫–æ–Ω–æ–º–∏—è —ç–Ω–µ—Ä–≥–∏–∏ ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Fandomon ‚Üí –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
```

### –®–∞–≥ 3: –û—Ç–∫–ª—é—á–∏—Ç—å –æ—á–∏—Å—Ç–∫—É —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**
3. –ù–∞–π–¥–∏—Ç–µ **Fandomon**
4. –ù–∞–∂–º–∏—Ç–µ **–î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**
5. –í–∫–ª—é—á–∏—Ç–µ:
   - ‚úÖ **–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ**
   - ‚úÖ **–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –≤ —Ñ–æ–Ω–µ**
   - ‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```bash
adb logcat -s MainActivity XiaomiUtils
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
MainActivity: ‚ö†Ô∏è XIAOMI/MIUI DEVICE DETECTED!
XiaomiUtils: üì± Device Information:
XiaomiUtils: Manufacturer: xiaomi
XiaomiUtils: Brand: redmi
XiaomiUtils: Model: Redmi Note 8 Pro
XiaomiUtils: Is Xiaomi: true
MainActivity: ‚úÖ Autostart settings opened
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ò–º–∏—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
# 2. –ò–º–∏—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
adb shell am broadcast -a android.intent.action.BOOT_COMPLETED -p com.tastamat.fandomon

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
adb logcat -s BootReceiver AlarmScheduler
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
BootReceiver: ========================================
BootReceiver: üîî BootReceiver triggered at 2024-10-21 10:00:00
BootReceiver: Action: android.intent.action.BOOT_COMPLETED
BootReceiver: üì± Device Information:
BootReceiver: Manufacturer: xiaomi
BootReceiver: Brand: redmi
BootReceiver: Model: Redmi Note 8 Pro
BootReceiver: Is Xiaomi: true
BootReceiver: ‚úÖ Boot event detected, processing...
BootReceiver: üìã Starting boot event handling...
BootReceiver: üîç Reading preferences...
BootReceiver: üìä Monitoring was active before reboot: true
BootReceiver: ‚úÖ Monitoring was active before reboot, restarting...
BootReceiver: ‚è±Ô∏è Check interval: 5min
BootReceiver: ‚è±Ô∏è Status interval: 15min
BootReceiver: ‚è≥ Waited 3 seconds for system stabilization
BootReceiver: ‚úÖ‚úÖ‚úÖ Monitoring alarms scheduled successfully after boot
BootReceiver: ‚ö†Ô∏è XIAOMI DEVICE DETECTED!
BootReceiver: ‚ö†Ô∏è Make sure Autostart is enabled in Security app
BootReceiver: üèÅ Boot event handling completed
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –†–µ–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
# 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø–ª–∞–Ω—à–µ—Ç
adb reboot

# 3. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ ADB –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
adb logcat -s BootReceiver AlarmScheduler
```

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≤–µ—Ä—Å–∏–∏ 2.1.6

### 1. AndroidManifest.xml
```xml
<receiver
    android:name=".receiver.BootReceiver"
    android:enabled="true"
    android:exported="true"
    android:directBootAware="true">
    <intent-filter android:priority="999">
        <action android:name="android.intent.action.BOOT_COMPLETED" />
        <action android:name="android.intent.action.LOCKED_BOOT_COMPLETED" />
        <action android:name="android.intent.action.QUICKBOOT_POWERON" />
        <action android:name="com.htc.intent.action.QUICKBOOT_POWERON" />
        <action android:name="android.intent.action.REBOOT" />
    </intent-filter>
</receiver>
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `directBootAware="true"` –¥–ª—è —Ä–∞–±–æ—Ç—ã –¥–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `priority="999"` –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ intent-—Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è Xiaomi
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `LOCKED_BOOT_COMPLETED` –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

### 2. XiaomiUtils.kt (–ù–æ–≤—ã–π —Ñ–∞–π–ª)

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è Xiaomi –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```kotlin
object XiaomiUtils {
    fun isXiaomiDevice(): Boolean {
        val manufacturer = Build.MANUFACTURER.lowercase()
        val brand = Build.BRAND.lowercase()
        return manufacturer == "xiaomi" || brand == "xiaomi" ||
               brand == "redmi" || brand == "poco"
    }

    fun openAutoStartSettings(context: Context): Boolean {
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –¥–ª—è MIUI
    }
}
```

### 3. BootReceiver.kt

–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:

```kotlin
override fun onReceive(context: Context, intent: Intent) {
    val action = intent.action ?: "UNKNOWN_ACTION"

    Log.d(TAG, "üîî BootReceiver triggered")
    Log.d(TAG, "Action: $action")

    // –õ–æ–≥–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
    XiaomiUtils.logDeviceInfo()

    when (action) {
        Intent.ACTION_BOOT_COMPLETED,
        Intent.ACTION_LOCKED_BOOT_COMPLETED,
        "android.intent.action.QUICKBOOT_POWERON",
        "com.htc.intent.action.QUICKBOOT_POWERON",
        Intent.ACTION_REBOOT -> {
            handleBootEvent(context)
        }
    }
}

private fun handleBootEvent(context: Context) {
    // –î–∞–µ–º —Å–∏—Å—Ç–µ–º–µ –≤—Ä–µ–º—è —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è (–≤–∞–∂–Ω–æ –¥–ª—è MIUI)
    delay(3000)

    // –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –µ—Å–ª–∏ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω
    if (wasMonitoringActive) {
        scheduler.scheduleMonitoring(checkInterval, statusInterval)

        if (XiaomiUtils.isXiaomiDevice()) {
            Log.w(TAG, "‚ö†Ô∏è XIAOMI DEVICE DETECTED!")
            Log.w(TAG, "‚ö†Ô∏è Make sure Autostart is enabled")
        }
    }
}
```

### 4. MainActivity.kt

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:

```kotlin
private fun checkXiaomiAutostart() {
    if (XiaomiUtils.isXiaomiDevice()) {
        Log.w("MainActivity", "‚ö†Ô∏è XIAOMI/MIUI DEVICE DETECTED!")
        Log.w("MainActivity", "‚ö†Ô∏è You MUST enable Autostart")

        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
        window.decorView.postDelayed({
            XiaomiUtils.openAutoStartSettings(this)
        }, 4000)
    }
}
```

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: BootReceiver –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤–∫–ª—é—á–µ–Ω** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –∏–º–∏—Ç–∞—Ü–∏—é:
   ```bash
   adb shell am broadcast -a android.intent.action.BOOT_COMPLETED -p com.tastamat.fandomon
   ```
3. –ï—Å–ª–∏ –∏–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Ç ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤—ã–∫–ª—é—á–µ–Ω!

### –ü—Ä–æ–±–ª–µ–º–∞ 2: BootReceiver –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
adb logcat -s BootReceiver AlarmScheduler MonitoringReceiver
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ë–∞—Ç–∞—Ä–µ—è –≤ —Ä–µ–∂–∏–º–µ —ç–∫–æ–Ω–æ–º–∏–∏ ‚Üí –®–∞–≥ 2
- –§–æ–Ω–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ‚Üí –®–∞–≥ 3
- MIUI —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å ‚Üí –í—Å–µ 3 —à–∞–≥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã!

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç 5-10 –º–∏–Ω—É—Ç, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** MIUI –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ —É–±–∏–≤–∞–µ—Ç —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **–ë–∞—Ç–∞—Ä–µ—è** ‚Üí **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–§–æ–Ω–æ–≤–∞—è –æ—á–∏—Å—Ç–∫–∞**
2. –í—ã–±–µ—Ä–∏—Ç–µ **–í—ã–∫–ª—é—á–µ–Ω–æ** –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ Fandomon –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ë–∞—Ç–∞—Ä–µ—è** ‚Üí **–≠–∫–æ–Ω–æ–º–∏—è —ç–Ω–µ—Ä–≥–∏–∏** ‚Üí **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å**
4. –û—Ç–∫–ª—é—á–∏—Ç–µ —ç–∫–æ–Ω–æ–º–∏—é –¥–ª—è Fandomon

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±:**
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫**
2. –ù–∞–π–¥–∏—Ç–µ **Fandomon**
3. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ ‚Üí
Fandomon ‚Üí –î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ ‚úÖ
```

## –ú–æ–¥–µ–ª–∏ Xiaomi/Redmi —Å –∏–∑–≤–µ—Å—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é

‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:**
- Redmi Note 8 Pro (MIUI 12/13)

üì± **–î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**
- –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ Xiaomi/Redmi/POCO —Å MIUI 11+
- –í–∞–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ 3 —à–∞–≥–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä—É—Å—Å–∫–∏–π)

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Fandomon –Ω–∞ Xiaomi/Redmi

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Fandomon** –ø–µ—Ä–≤—ã–π —Ä–∞–∑
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. –ß–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫**
4. **–í–∫–ª—é—á–∏—Ç–µ Fandomon** –≤ —Å–ø–∏—Å–∫–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ ‚úÖ
5. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Fandomon
6. –ù–∞–∂–º–∏—Ç–µ **"Start Monitoring"**
7. –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø–ª–∞–Ω—à–µ—Ç
2. –û—Ç–∫—Ä–æ–π—Ç–µ Fandomon
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **"‚óè Active"** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
4. –ï—Å–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –û—Ç–ª–∞–¥–∫–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

### –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
```bash
adb logcat -s BootReceiver AlarmScheduler MonitoringReceiver MainActivity XiaomiUtils FandomatMonitor
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
```bash
adb logcat -s XiaomiUtils
```

–í—ã–≤–æ–¥:
```
XiaomiUtils: üì± Device Information:
XiaomiUtils: Manufacturer: xiaomi
XiaomiUtils: Brand: redmi
XiaomiUtils: Model: Redmi Note 8 Pro
XiaomiUtils: Device: begonia
XiaomiUtils: Android Version: 10 (API 29)
XiaomiUtils: Is Xiaomi: true
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è DataStore
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
adb shell run-as com.tastamat.fandomon ls -la files/datastore/
adb shell run-as com.tastamat.fandomon cat files/datastore/settings.preferences_pb
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö 3 —à–∞–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Fandomon –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Xiaomi/MIUI —Ç–∞–∫ –∂–µ –Ω–∞–¥–µ–∂–Ω–æ, –∫–∞–∫ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º Android:

‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
‚úÖ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ñ–æ–Ω–µ
‚úÖ –†–∞–±–æ—Ç–∞ –≤ Doze Mode
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π
‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–í–∞–∂–Ω–æ:** –í—Å–µ 3 —à–∞–≥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã! MIUI —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
